webpackJsonp([1],{393:function(e,a,t){t(413);var n=t(40)(t(412),t(439),"data-v-0509af14",null);n.options.__file="/Users/cai/Documents/project/orangePomelo/src/pages/user-management.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] user-management.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},394:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"base-table",props:{options:{type:Object,default:function(){return{searchs:[],columns:[]}}}},data:function(){return{headerId:"header"+Date.now(),data:[],append:this.$slots.append,total:0,pager:{currPage:1,pageSize:10},height:window.innerHeight-240,loading:!1}},computed:{columns:function(){return this.options.columns}},mounted:function(){this.options.ajaxURL&&this.ajaxRequest()},methods:{searchAjax:function(){this.pager.currPage=1,this.ajaxRequest()},ajaxRequest:function(){var e=this,a=this.options.ajaxURL;if(!a)return console.log("%c 请填写请求接口连接 ","background:#ed4014;color:#fff");var t=this.searchParam();this.$http.get(a,{params:t}).then(function(a){"0"==a.code&&(e.data=a.result.list,e.total=a.result.totalRow)}).catch(function(e){})},searchParam:function(){var e={page:this.pager.currPage,limit:this.pager.pageSize},a=!0,t=!1,n=void 0;try{for(var o,r=this.options.searchs[Symbol.iterator]();!(a=(o=r.next()).done);a=!0){var s=o.value,i="string"==typeof s.value?s.value.trim():s.value;s.prop&&""!==i&&(e[s.prop]=i)}}catch(e){t=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(t)throw n}}return e},currpageMonitor:function(e){this.pager.currPage=e,this.ajaxRequest()},pagesizeMonitor:function(e){this.pager.pageSize=e,this.ajaxRequest()}}}},395:function(e,a){},396:function(e,a,t){t(395);var n=t(40)(t(394),t(397),null,null);n.options.__file="/Users/cai/Documents/project/orangePomelo/src/pages/components/Table.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] Table.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},397:function(e,a,t){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"base-table"},[e.options.hideHeader?e._e():t("div",{staticClass:"header",attrs:{id:e.headerId}},[e._l(e.options.searchs,function(a,n){return["input"===a.type?[t("Input",{key:"input"+n,attrs:{placeholder:a.placeholder,clearable:""},on:{"on-enter":e.searchAjax},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item['value']"}})]:"select"===a.type?[t("Select",{key:"select"+n,attrs:{placeholder:a.placeholder,clearable:"","not-found-text":""},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item['value']"}},e._l(a.option,function(a){return t("Option",{key:a.code,attrs:{value:a.code}},[e._v(e._s(a.name))])}))]:e._e()]}),e._v(" "),t("Button",{on:{click:e.searchAjax}},[e._v("搜索")]),e.append?[e._t("append")]:e._e()],2),e._v(" "),t("Table",{staticClass:"iau-table",attrs:{columns:e.columns,data:e.data,"no-data-text":"",height:""+e.height,loading:e.loading}}),e._v(" "),t("div",{staticClass:"footer"},[t("Page",{attrs:{current:e.pager.currPage,"page-size":e.pager.pageSize,total:e.total,"no-data-text":"暂时没有数据","no-filtered-data-text":"暂时没有数据","show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.currpageMonitor,"on-page-size-change":e.pagesizeMonitor}})],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},411:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={props:{options:{type:Object,default:{}}},data:function(){return{data:{managerName:"",managerNickname:"",managerPassword:"",phoneNumber:"",smsNotification:!0,emailNotification:!0,managerRoleid:1},roleList:[{name:"超级管理员",code:1},{name:"运维人员",code:2},{name:"供应商",code:3},{name:"原厂",code:4}]}},mounted:function(){this.options.data&&(this.data=this.options.data)},methods:{}}},412:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t(396),o=t.n(n),r=t(438),s=t.n(r);a.default={components:{BaseTable:o.a,detaulComponent:s.a},data:function(){var e=this;return{options:{searchs:[{type:"input",placeholder:"用户名",prop:"managerSearch",value:""}],columns:[{title:"ID",align:"center",key:"managerId",width:100},{title:"用户名",align:"center",key:"managerName",minWidth:140},{title:"密码",align:"center",key:"code",width:80,render:function(e){return e("span","******")}},{title:"手机号",align:"center",width:140,key:"phoneNumber"},{title:"昵称",align:"center",key:"managerNickname",minWidth:140},{title:"角色",align:"center",width:120,key:"managerRoleid",render:function(e,a){return e("span",1==a.row.managerRoleid?"超级管理员":2==a.row.managerRoleid?"运维人员":3==a.row.managerRoleid?"供应商":"原厂")}},{title:"创建时间",align:"center",width:190,key:"createDate"},{title:"操作",width:144,align:"center",render:function(a,t){return a("span",[a("Button",{props:{type:"primary",size:"small"},on:{click:function(a){e.editUesr(t.row)}}},"编辑"),a("Button",{style:{marginLeft:"12px"},props:{type:"warning",size:"small"},on:{click:function(a){e.delUser(t.row.managerId)}}},"删除")])}}],ajaxURL:"/mcc/manager"},active:0}},mounted:function(){},methods:{addUser:function(){var e=this;this.$popup({component:s.a,hideTips:!0,loading:!0,props:{options:{data:{managerName:"",managerNickname:"",managerPassword:"",phoneNumber:"",smsNotification:!0,emailNotification:!0,managerRoleid:1}}},onOk:function(a,t){t.$refs.form.validate(function(n){if(n){var o=t.data,r="?managerName="+o.managerName+"&managerNickname="+o.managerNickname+"&managerPassword="+o.managerPassword+"&phoneNumber="+o.phoneNumber+"&smsNotification="+o.smsNotification+"&emailNotification="+o.emailNotification+"&managerRoleid="+o.managerRoleid;e.$http.post("mcc/manager/create"+r).then(function(t){if("0"!=t.code)return e.$toast.error(t.message),void a.regain();e.$toast.success(t.message),a.remove(),e.$refs.table.searchAjax()})}else a.regain()})}})},editUesr:function(e){var a=this;this.$popup({component:s.a,hideTips:!0,loading:!0,props:{options:{data:e}},onOk:function(e,t){t.$refs.form.validate(function(n){if(n){var o=t.data,r="?managerId="+o.managerId+"&managerName="+o.managerName+"&managerNickname="+o.managerNickname+"&managerPassword="+o.managerPassword+"&phoneNumber="+o.phoneNumber+"&smsNotification="+o.smsNotification+"&emailNotification="+o.emailNotification+"&managerRoleid="+o.managerRoleid;a.$http.post("mcc/manager/update"+r).then(function(t){if("0"!=t.code)return a.$toast.error(t.message),void e.regain();a.$toast.success(t.message),e.remove(),a.$refs.table.searchAjax()})}else e.regain()})}})},delUser:function(e){var a=this;this.$popup({content:"此操作将永久删除该记录, 是否继续?",onOk:function(t,n){a.$http.post("/mcc/manager/delete?managerId="+e).then(function(e){if("0"!=e.code)return void a.$toast.error(e.message);a.$toast.success(e.message),a.$refs.table.searchAjax()})}})}}}},413:function(e,a){},422:function(e,a){},438:function(e,a,t){t(422);var n=t(40)(t(411),t(448),null,null);n.options.__file="/Users/cai/Documents/project/orangePomelo/src/pages/user-detail-components.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] user-detail-components.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},439:function(e,a,t){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("Header"),e._v(" "),t("div",{staticClass:"main"},[t("div",{staticClass:"left"},[t("Corner"),e._v(" "),e._m(0)],1),e._v(" "),t("div",{staticClass:"rigt"},[t("base-table",{ref:"table",attrs:{options:e.options}},[t("Button",{attrs:{slot:"append"},on:{click:e.addUser},slot:"append"},[e._v("新建用户")])],1),e._v(" "),t("Corner")],1)])],1)},staticRenderFns:[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ul",[t("li",{staticClass:"active"},[e._v("用户管理")])])}]},e.exports.render._withStripped=!0},448:function(e,a,t){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"faultdetail"},[t("div",[t("Form",{ref:"form",attrs:{"label-position":"left",model:e.data,"label-width":78,"show-message":!1}},[t("FormItem",{attrs:{label:"用户名",prop:"managerName",rules:{required:!0,message:"",trigger:"blur"}}},[t("Input",{attrs:{placeholder:"用户名"},model:{value:e.data.managerName,callback:function(a){e.$set(e.data,"managerName",a)},expression:"data.managerName"}})],1),e._v(" "),t("FormItem",{attrs:{label:"昵称 ",prop:"managerNickname"}},[t("Input",{attrs:{placeholder:"昵称"},model:{value:e.data.managerNickname,callback:function(a){e.$set(e.data,"managerNickname",a)},expression:"data.managerNickname"}})],1),e._v(" "),t("FormItem",{attrs:{label:"密码",prop:"managerPassword"}},[t("Input",{attrs:{placeholder:"密码",type:"password"},model:{value:e.data.managerPassword,callback:function(a){e.$set(e.data,"managerPassword",a)},expression:"data.managerPassword"}})],1),e._v(" "),t("FormItem",{attrs:{label:"手机号",prop:"phoneNumber"}},[t("Input",{attrs:{placeholder:"手机号"},model:{value:e.data.phoneNumber,callback:function(a){e.$set(e.data,"phoneNumber",a)},expression:"data.phoneNumber"}})],1),e._v(" "),t("FormItem",{attrs:{label:"角色",prop:"managerRoleid",rules:{required:!0,message:"",trigger:"change",type:"number"}}},[t("Select",{attrs:{placeholder:"角色"},model:{value:e.data.managerRoleid,callback:function(a){e.$set(e.data,"managerRoleid",a)},expression:"data.managerRoleid"}},e._l(e.roleList,function(a){return t("Option",{key:a.code,attrs:{value:a.code}},[e._v(e._s(a.name))])}))],1),e._v(" "),t("div",[t("span",{staticStyle:{"margin-right":"10px"}},[e._v("短信通知"),t("i-switch",{staticStyle:{"margin-left":"10px"},model:{value:e.data.smsNotification,callback:function(a){e.$set(e.data,"smsNotification",a)},expression:"data.smsNotification"}})],1),e._v(" "),t("span",{staticStyle:{float:"right"}},[e._v("邮件通知"),t("i-switch",{staticStyle:{"margin-left":"10px"},model:{value:e.data.emailNotification,callback:function(a){e.$set(e.data,"emailNotification",a)},expression:"data.emailNotification"}})],1)])],1)],1)])},staticRenderFns:[]},e.exports.render._withStripped=!0}});
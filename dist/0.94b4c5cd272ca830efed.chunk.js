webpackJsonp([0],{384:function(e,t,a){a(419);var s=a(40)(a(399),a(445),null,null);s.options.__file="/Users/cai/Documents/project/orangePomelo/src/pages/asset-management.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] asset-management.vue: functional components are not supported with templates, they should use render functions."),e.exports=s.exports},394:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"base-table",props:{options:{type:Object,default:function(){return{searchs:[],columns:[]}}}},data:function(){return{headerId:"header"+Date.now(),data:[],append:this.$slots.append,total:0,pager:{currPage:1,pageSize:10},height:window.innerHeight-240,loading:!1}},computed:{columns:function(){return this.options.columns}},mounted:function(){this.options.ajaxURL&&this.ajaxRequest()},methods:{searchAjax:function(){this.pager.currPage=1,this.ajaxRequest()},ajaxRequest:function(){var e=this,t=this.options.ajaxURL;if(!t)return console.log("%c 请填写请求接口连接 ","background:#ed4014;color:#fff");var a=this.searchParam();this.$http.get(t,{params:a}).then(function(t){"0"==t.code&&(e.data=t.result.list,e.total=t.result.totalRow)}).catch(function(e){})},searchParam:function(){var e={page:this.pager.currPage,limit:this.pager.pageSize},t=!0,a=!1,s=void 0;try{for(var n,o=this.options.searchs[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var r=n.value,i="string"==typeof r.value?r.value.trim():r.value;r.prop&&""!==i&&(e[r.prop]=i)}}catch(e){a=!0,s=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw s}}return e},currpageMonitor:function(e){this.pager.currPage=e,this.ajaxRequest()},pagesizeMonitor:function(e){this.pager.pageSize=e,this.ajaxRequest()}}}},395:function(e,t){},396:function(e,t,a){a(395);var s=a(40)(a(394),a(397),null,null);s.options.__file="/Users/cai/Documents/project/orangePomelo/src/pages/components/Table.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] Table.vue: functional components are not supported with templates, they should use render functions."),e.exports=s.exports},397:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"base-table"},[e.options.hideHeader?e._e():a("div",{staticClass:"header",attrs:{id:e.headerId}},[e._l(e.options.searchs,function(t,s){return["input"===t.type?[a("Input",{key:"input"+s,attrs:{placeholder:t.placeholder,clearable:""},on:{"on-enter":e.searchAjax},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item['value']"}})]:"select"===t.type?[a("Select",{key:"select"+s,attrs:{placeholder:t.placeholder,clearable:"","not-found-text":""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item['value']"}},e._l(t.option,function(t){return a("Option",{key:t.code,attrs:{value:t.code}},[e._v(e._s(t.name))])}))]:e._e()]}),e._v(" "),a("Button",{on:{click:e.searchAjax}},[e._v("搜索")]),e.append?[e._t("append")]:e._e()],2),e._v(" "),a("Table",{staticClass:"iau-table",attrs:{columns:e.columns,data:e.data,"no-data-text":"",height:""+e.height,loading:e.loading}}),e._v(" "),a("div",{staticClass:"footer"},[a("Page",{attrs:{current:e.pager.currPage,"page-size":e.pager.pageSize,total:e.total,"no-data-text":"暂时没有数据","no-filtered-data-text":"暂时没有数据","show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.currpageMonitor,"on-page-size-change":e.pagesizeMonitor}})],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},398:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{options:{type:Object,default:{}}},data:function(){return{data:{}}},mounted:function(){this.options.data&&(this.data=this.options.data)},methods:{}}},399:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(396),n=a.n(s),o=a(435),r=a.n(o),i=a(434),l=a.n(i),c=a(63),u=[{name:"首页"},{name:"资产管理",children:[{name:"资产录入"},{name:"统一导入"},{name:"资产导出"},{name:"模版下载"}]},{name:"资产分类",children:[{name:"资产分类录入"}]}];t.default={components:{BaseTable:n.a,detaulComponent:r.a,asstClassDetaulComponent:l.a},data:function(){var e=this;return{columnsOrder:[{title:"资产编号",align:"center",minWidth:170,key:"assetNumber"},{title:"资产名称",minWidth:160,align:"center",key:"assetName"},{title:"会议室",minWidth:160,align:"center",key:"councilHall"},{title:"创建时间",width:190,align:"center",key:"createDate"},{title:"品牌类型",width:160,align:"center",key:"brandModel"},{align:"center",width:140,title:"资产类别",key:"assetType"},{title:"使用部门",width:140,align:"center",key:"useDepartment"},{title:"操作",width:144,align:"center",render:function(t,a){var s=a.row;return t("span",[t("Button",{props:{type:"primary",size:"small"},on:{click:function(t){e.addOrEdit(1,s)}}},"编辑"),t("Button",{style:{marginLeft:"12px"},props:{type:"warning",size:"small"},on:{click:function(t){e.del(s.assetId)}}},"删除")])}}],columnsLog:[{title:"资产类别ID",align:"center",width:140,key:"assetCategoryId"},{title:"资产类别编号",align:"center",key:"assetCategoryNumber"},{title:"资产类别名称",align:"center",key:"assetCategoryName"},{title:"创建时间",align:"center",key:"createDate"},{title:"操作",width:144,align:"center",render:function(t,a){var s=a.row;return t("span",[t("Button",{props:{type:"primary",size:"small"},on:{click:function(t){e.addOrEditByTemplate(1,s)}}},"编辑"),t("Button",{style:{marginLeft:"12px"},props:{type:"warning",size:"small"},on:{click:function(t){e.$popup({content:"此操作将永久删除该记录, 是否继续?",onOk:function(t,a){e.$http.post("/assetCategory/delete?assetCategoryId="+s.assetCategoryId).then(function(t){if("0"!=t.code)return void e.$toast.error(t.message);e.$toast.success(t.message),e.$refs.table.searchAjax()})}})}}},"删除")])}}],options:{searchs:[{type:"input",placeholder:"资产名称",prop:"assetSearch",value:""},{type:"select",placeholder:"会议室",prop:"councilHall",option:[],value:""}],columns:[],ajaxURL:"/asset"},menus:u,active:0}},mounted:function(){this.searchCouncilHallList(),this.options.columns=this.columnsOrder},methods:{tabActive:function(e){this.active=e,this.options.columns=1==e?this.columnsLog:this.columnsOrder},searchCouncilHallList:function(){var e=this;this.$http.get("/common/councilHallList").then(function(t){"0"==t.code&&(t.result.map(function(e){e.code=e.councilHall,e.name=e.councilHall}),e.options.searchs[1].option=t.result)})},menuOpen:function(e){0!=e.length&&(1==e[0]?(this.options.columns=this.columnsOrder,this.options.searchs=[{type:"input",placeholder:"资产名称",prop:"assetSearch",value:""},{type:"select",placeholder:"会议室",prop:"councilHall",option:[],value:""}],this.options.hideHeader=!1,this.options.ajaxURL="/asset",this.$refs.table.searchAjax()):(this.options.columns=this.columnsLog,this.options.searchs=[],this.options.hideHeader=!0,this.options.ajaxURL="/assetCategory",this.$refs.table.searchAjax()))},itemClick:function(e){switch(e){case"1-0":this.addOrEdit();break;case"1-1":this.import();break;case"1-2":this.inportexcel(this.$refs.table.data);break;case"1-3":this.templateDown();break;case"2-0":this.addOrEditByTemplate()}},addOrEdit:function(e,t){var a=this,s="/asset/create";1==e&&(s="/asset/update"),this.$popup({component:r.a,hideTips:!0,loading:!0,width:730,props:{options:{data:t||{}},name:1==e?"编辑":"新增"},onOk:function(e,t){t.$refs.form.validate(function(n){if(n){var o=t.data,r="?";for(var i in o)"arrivalDate"!=i&&"activationDate"!=i&&"maintenanceExpirationDate"!=i||(o[i]=a.$moment(o[i]).format("YYYY-MM-DD")),o[i]&&(r+=i+"="+o[i]+"&");a.$http.post(s+r).then(function(t){if("0"!=t.code)return a.$toast.error(t.message),void e.regain();a.$toast.success(t.message),e.remove(),a.$refs.table.searchAjax()})}else e.regain()})}})},del:function(e){var t=this;this.$popup({content:"此操作将永久删除该记录, 是否继续?",onOk:function(a,s){t.$http.post("/asset/delete?assetId="+e).then(function(e){if("0"!=e.code)return void t.$toast.error(e.message);t.$toast.success(e.message),t.$refs.table.searchAjax()})}})},import:function(){var e=this,t=document.createElement("input");t.type="file",t.name="file",t.onchange=function(){if(t.files[0].size>10485760)return e.$Message.error("导入出错！文件大小不能大于10M");if("application/vnd.ms-excel"!==t.files[0].type&&"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==t.files[0].type)return e.$Message.error("导入出错！文件类型仅限xls和xlsx");var a=new FormData;a.append("assetExcel",t.files[0]),e.$http.post("/asset/assetImport",a).then(function(t){if(0!==t.code)return e.$toast.error(t.message);e.$toast.success(t.message),e.$refs.table.searchAjax()}).catch(function(t){e.$toast.error("导入失败~~")})},t.click()},inportexcel:function(e){},cutValue:function(e,t){for(var a=[],s=0;s<e.length;s++)a.push(e[s][t]);return a},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return t[e]})})},templateDown:function(){window.open(c.a.api+"/asset/assetExcelTemplate")},addOrEditByTemplate:function(e,t){var a=this,s="/assetCategory/create";1==e&&(s="/assetCategory/update"),this.$popup({component:l.a,hideTips:!0,loading:!0,props:{options:{data:t||{}}},onOk:function(e,t){t.$refs.form.validate(function(n){if(n){var o=t.data,r="?";for(var i in o)o[i]&&(r+=i+"="+o[i]+"&");a.$http.post(s+r).then(function(t){if("0"!=t.code)return a.$toast.error(t.message),void e.regain();a.$toast.success(t.message),e.remove(),a.$refs.table.searchAjax()})}else e.regain()})}})}}}},400:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{options:{type:Object,default:{}},name:{type:String,default:function(){return"新增"}}},data:function(){return{data:{},assetCategoryList:[]}},created:function(){this.searchAssetCategoryList()},mounted:function(){this.options.data&&(this.data=this.options.data)},methods:{searchAssetCategoryList:function(){var e=this;this.$http.get("/assetCategory/assetCategoryList").then(function(t){"0"==t.code&&(e.assetCategoryList=t.result)})}}}},415:function(e,t){},419:function(e,t){},425:function(e,t){},434:function(e,t,a){a(415);var s=a(40)(a(398),a(441),null,null);s.options.__file="/Users/cai/Documents/project/orangePomelo/src/pages/asset-classification.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] asset-classification.vue: functional components are not supported with templates, they should use render functions."),e.exports=s.exports},435:function(e,t,a){a(425);var s=a(40)(a(400),a(451),"data-v-9b4fe712",null);s.options.__file="/Users/cai/Documents/project/orangePomelo/src/pages/asst-detail-components.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] asst-detail-components.vue: functional components are not supported with templates, they should use render functions."),e.exports=s.exports},441:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"asset-classification"},[a("div",[a("Form",{ref:"form",attrs:{"label-position":"right",model:e.data,"label-width":128,"show-message":!1}},[a("FormItem",{attrs:{label:"资产类别编码",prop:"assetCategoryNumber",rules:{required:!0,message:"",trigger:"blur"}}},[a("Input",{attrs:{placeholder:"资产类别编码"},model:{value:e.data.assetCategoryNumber,callback:function(t){e.$set(e.data,"assetCategoryNumber",t)},expression:"data.assetCategoryNumber"}})],1),e._v(" "),a("FormItem",{attrs:{label:"资产类别名称",prop:"assetCategoryName",rules:{required:!0,message:"",trigger:"blur"}}},[a("Input",{attrs:{placeholder:"资产类别名称"},model:{value:e.data.assetCategoryName,callback:function(t){e.$set(e.data,"assetCategoryName",t)},expression:"data.assetCategoryName"}})],1)],1)],1)])},staticRenderFns:[]},e.exports.render._withStripped=!0},445:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container asset-management"},[a("Header"),e._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"left-container"},[a("Corner"),e._v(" "),a("Menu",{attrs:{accordion:"","open-names":[1]},on:{"on-open-change":e.menuOpen,"on-select":e.itemClick}},[e._l(e.menus,function(t,s){return t.children?e._e():a("MenuItem",{key:"menu"+s,staticClass:"index-frist",attrs:{name:""+s}},[a("Icon",{attrs:{custom:"i-icon asset-index",size:"16"}}),e._v("\n                "+e._s(t.name)+"\n                ")],1)}),e._v(" "),e._l(e.menus,function(t,s){return t.children?a("Submenu",{key:"menu"+s,attrs:{name:s}},[a("template",{slot:"title"},[1==s?a("Icon",{attrs:{type:"i-icon asset-managen",size:"16"}}):e._e(),e._v(" "),2==s?a("Icon",{attrs:{type:"i-icon asst-fl",size:"16"}}):e._e(),e._v(" "),e._v("\n                        "+e._s(t.name)+"\n                    ")],1),e._v(" "),e._l(t.children,function(t,n){return a("MenuItem",{key:"menu"+s+"-"+n,staticStyle:{"padding-left":"24px"},attrs:{name:s+"-"+n}},[s+"-"+n=="1-0"?a("Icon",{attrs:{type:"i-icon asst-add",size:"16"}}):e._e(),e._v(" "),s+"-"+n=="1-1"?a("Icon",{attrs:{type:"i-icon asst-export",size:"16"}}):e._e(),e._v(" "),s+"-"+n=="1-2"?a("Icon",{attrs:{type:"i-icon asst-export2",size:"16"}}):e._e(),e._v(" "),s+"-"+n=="1-3"?a("Icon",{attrs:{type:"i-icon asset-template-down",size:"16"}}):e._e(),e._v(" "),s+"-"+n=="2-0"?a("Icon",{attrs:{type:"i-icon asst-fl-add",size:"16"}}):e._e(),e._v("\n                    "+e._s(t.name)+"\n                    ")],1)})],2):e._e()})],2)],1),e._v(" "),a("div",{staticClass:"rigt-container"},[a("base-table",{ref:"table",attrs:{options:e.options}}),e._v(" "),a("Corner")],1)])],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},451:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"asstdetail"},[a("div",[a("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[e._v(e._s(e.name))]),e._v(" "),a("Form",{ref:"form",attrs:{"label-position":"right",model:e.data,"label-width":124,"show-message":!1,inline:""}},[a("FormItem",{attrs:{label:"资产编号",prop:"assetNumber"}},[a("Input",{model:{value:e.data.assetNumber,callback:function(t){e.$set(e.data,"assetNumber",t)},expression:"data.assetNumber"}})],1),e._v(" "),a("FormItem",{attrs:{label:"资产名称",prop:"assetName",rules:{required:!0,message:"",trigger:"blur"}}},[a("Input",{model:{value:e.data.assetName,callback:function(t){e.$set(e.data,"assetName",t)},expression:"data.assetName"}})],1),e._v(" "),a("FormItem",{attrs:{label:"品牌型号",prop:"brandModel"}},[a("Input",{model:{value:e.data.brandModel,callback:function(t){e.$set(e.data,"brandModel",t)},expression:"data.brandModel"}})],1),e._v(" "),a("FormItem",{attrs:{label:"资产类别",prop:"assetType"}},[a("Select",{model:{value:e.data.assetType,callback:function(t){e.$set(e.data,"assetType",t)},expression:"data.assetType"}},e._l(e.assetCategoryList,function(t){return a("Option",{key:t.assetCategoryId,attrs:{value:t.assetCategoryId}},[e._v(e._s(t.assetCategoryName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"资产IP",prop:"assetIp"}},[a("Input",{model:{value:e.data.assetIp,callback:function(t){e.$set(e.data,"assetIp",t)},expression:"data.assetIp"}})],1),e._v(" "),a("FormItem",{attrs:{label:"使用部门",prop:"useDepartment"}},[a("Input",{model:{value:e.data.useDepartment,callback:function(t){e.$set(e.data,"useDepartment",t)},expression:"data.useDepartment"}})],1),e._v(" "),a("FormItem",{attrs:{label:"管理部门",prop:"managementDepartment"}},[a("Input",{model:{value:e.data.managementDepartment,callback:function(t){e.$set(e.data,"managementDepartment",t)},expression:"data.managementDepartment"}})],1),e._v(" "),a("FormItem",{attrs:{label:"责任人",prop:"responsible"}},[a("Input",{model:{value:e.data.responsible,callback:function(t){e.$set(e.data,"responsible",t)},expression:"data.responsible"}})],1),e._v(" "),a("FormItem",{attrs:{label:"会议室",prop:"councilHall"}},[a("Input",{model:{value:e.data.councilHall,callback:function(t){e.$set(e.data,"councilHall",t)},expression:"data.councilHall"}})],1),e._v(" "),a("FormItem",{attrs:{label:"到货日期",prop:"arrivalDate"}},[a("Date-picker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.data.arrivalDate,callback:function(t){e.$set(e.data,"arrivalDate",t)},expression:"data.arrivalDate"}})],1),e._v(" "),a("FormItem",{attrs:{label:"启用日期",prop:"activationDate"}},[a("Date-picker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.data.activationDate,callback:function(t){e.$set(e.data,"activationDate",t)},expression:"data.activationDate"}})],1),e._v(" "),a("FormItem",{attrs:{label:"资产性质",prop:"propertyAssets"}},[a("Input",{model:{value:e.data.propertyAssets,callback:function(t){e.$set(e.data,"propertyAssets",t)},expression:"data.propertyAssets"}})],1),e._v(" "),a("FormItem",{attrs:{label:"原值(元)",prop:"originalValue"}},[a("Input",{model:{value:e.data.originalValue,callback:function(t){e.$set(e.data,"originalValue",t)},expression:"data.originalValue"}})],1),e._v(" "),a("FormItem",{attrs:{label:"累计折旧(元)",prop:"accumulatedDepreciation"}},[a("Input",{model:{value:e.data.accumulatedDepreciation,callback:function(t){e.$set(e.data,"accumulatedDepreciation",t)},expression:"data.accumulatedDepreciation"}})],1),e._v(" "),a("FormItem",{attrs:{label:"净值(元)",prop:"netWorth"}},[a("Input",{model:{value:e.data.netWorth,callback:function(t){e.$set(e.data,"netWorth",t)},expression:"data.netWorth"}})],1),e._v(" "),a("FormItem",{attrs:{label:"制造商",prop:"manufacturer"}},[a("Input",{model:{value:e.data.manufacturer,callback:function(t){e.$set(e.data,"manufacturer",t)},expression:"data.manufacturer"}})],1),e._v(" "),a("FormItem",{attrs:{label:"供应商",prop:"supplier"}},[a("Input",{model:{value:e.data.supplier,callback:function(t){e.$set(e.data,"supplier",t)},expression:"data.supplier"}})],1),e._v(" "),a("FormItem",{attrs:{label:"维保到期日期",prop:"maintenanceExpirationDate"}},[a("Date-picker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.data.maintenanceExpirationDate,callback:function(t){e.$set(e.data,"maintenanceExpirationDate",t)},expression:"data.maintenanceExpirationDate"}})],1),e._v(" "),a("FormItem",{attrs:{label:"功率(kw)",prop:"power"}},[a("Input",{model:{value:e.data.power,callback:function(t){e.$set(e.data,"power",t)},expression:"data.power"}})],1),e._v(" "),a("FormItem",{attrs:{label:"重量(kg)",prop:"weight"}},[a("Input",{model:{value:e.data.weight,callback:function(t){e.$set(e.data,"weight",t)},expression:"data.weight"}})],1),e._v(" "),a("FormItem",{attrs:{label:"存放地点",prop:"storageLocation"}},[a("Input",{model:{value:e.data.storageLocation,callback:function(t){e.$set(e.data,"storageLocation",t)},expression:"data.storageLocation"}})],1),e._v(" "),a("FormItem",{attrs:{label:"创建人",prop:"founder"}},[a("Input",{model:{value:e.data.founder,callback:function(t){e.$set(e.data,"founder",t)},expression:"data.founder"}})],1)],1)],1)])},staticRenderFns:[]},e.exports.render._withStripped=!0}});
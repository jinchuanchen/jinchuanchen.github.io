webpackJsonp([5],{392:function(e,t,a){a(421);var o=a(40)(a(410),a(447),"data-v-7a6e677f",null);o.options.__file="/Users/cai/Documents/project/orangePomelo/src/pages/table.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] table.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},394:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"base-table",props:{options:{type:Object,default:function(){return{searchs:[],columns:[]}}}},data:function(){return{headerId:"header"+Date.now(),data:[],append:this.$slots.append,total:0,pager:{currPage:1,pageSize:10},height:window.innerHeight-240,loading:!1}},computed:{columns:function(){return this.options.columns}},mounted:function(){this.options.ajaxURL&&this.ajaxRequest()},methods:{searchAjax:function(){this.pager.currPage=1,this.ajaxRequest()},ajaxRequest:function(){var e=this,t=this.options.ajaxURL;if(!t)return console.log("%c 请填写请求接口连接 ","background:#ed4014;color:#fff");var a=this.searchParam();this.$http.get(t,{params:a}).then(function(t){"0"==t.code&&(e.data=t.result.list,e.total=t.result.totalRow)}).catch(function(e){})},searchParam:function(){var e={page:this.pager.currPage,limit:this.pager.pageSize},t=!0,a=!1,o=void 0;try{for(var n,r=this.options.searchs[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var s=n.value,i="string"==typeof s.value?s.value.trim():s.value;s.prop&&""!==i&&(e[s.prop]=i)}}catch(e){a=!0,o=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw o}}return e},currpageMonitor:function(e){this.pager.currPage=e,this.ajaxRequest()},pagesizeMonitor:function(e){this.pager.pageSize=e,this.ajaxRequest()}}}},395:function(e,t){},396:function(e,t,a){a(395);var o=a(40)(a(394),a(397),null,null);o.options.__file="/Users/cai/Documents/project/orangePomelo/src/pages/components/Table.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] Table.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},397:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"base-table"},[e.options.hideHeader?e._e():a("div",{staticClass:"header",attrs:{id:e.headerId}},[e._l(e.options.searchs,function(t,o){return["input"===t.type?[a("Input",{key:"input"+o,attrs:{placeholder:t.placeholder,clearable:""},on:{"on-enter":e.searchAjax},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item['value']"}})]:"select"===t.type?[a("Select",{key:"select"+o,attrs:{placeholder:t.placeholder,clearable:"","not-found-text":""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item['value']"}},e._l(t.option,function(t){return a("Option",{key:t.code,attrs:{value:t.code}},[e._v(e._s(t.name))])}))]:e._e()]}),e._v(" "),a("Button",{on:{click:e.searchAjax}},[e._v("搜索")]),e.append?[e._t("append")]:e._e()],2),e._v(" "),a("Table",{staticClass:"iau-table",attrs:{columns:e.columns,data:e.data,"no-data-text":"",height:""+e.height,loading:e.loading}}),e._v(" "),a("div",{staticClass:"footer"},[a("Page",{attrs:{current:e.pager.currPage,"page-size":e.pager.pageSize,total:e.total,"no-data-text":"暂时没有数据","no-filtered-data-text":"暂时没有数据","show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":e.currpageMonitor,"on-page-size-change":e.pagesizeMonitor}})],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},410:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(396),n=a.n(o);t.default={components:{BaseTable:n.a},data:function(){var e=this;return{options:{searchs:[{type:"input",prop:"input"}],columns:[{title:"控制类型",key:"name"},{title:"控制编码",key:"code"},{title:"操作",render:function(t,a){var o=(a.row,a.index);return t("span",[t("Button",{props:{type:"primary",size:"small"},on:{click:function(e){console.log("todo")}}},"编辑"),t("Button",{style:{marginLeft:"12px"},props:{type:"warning",size:"small"},on:{click:function(t){return e.$refs.table.data.splice(o,1)}}},"删除")])}}]}}},methods:{addList:function(){this.$refs.table.data.push({code:"操控类型",name:"控制编码"})}}}},421:function(e,t){},447:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("Header"),e._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"left inner-shadow"},[a("Corner")],1),e._v(" "),a("div",{staticClass:"rigt inner-shadow"},[a("base-table",{ref:"table",attrs:{options:e.options}},[a("Button",{attrs:{slot:"append"},on:{click:e.addList},slot:"append"},[e._v("新增")]),e._v(" "),a("Button",{attrs:{slot:"append"},on:{click:e.addList},slot:"append"},[e._v("自增")])],1),e._v(" "),a("Corner")],1)])],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});